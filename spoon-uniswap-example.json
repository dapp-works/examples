{
	"id": "ccb4828a-4da3-4048-acf7-90d8ce84e9f1",
	"version": "0.1.0",
	"name": "spoon-uniswap-example",
	"contractsTemplateManager": {
		"contracts": [
			{
				"id": "abdb9c8a-a865-4990-b603-0ffa1f921dcd",
				"name": "UniSwapRouter",
				"abi": [
					{
						"type": "constructor",
						"inputs": [
							{
								"name": "_factory",
								"type": "address",
								"internalType": "address"
							},
							{
								"name": "_WETH",
								"type": "address",
								"internalType": "address"
							}
						],
						"stateMutability": "nonpayable"
					},
					{
						"name": "WETH",
						"type": "function",
						"inputs": [],
						"outputs": [
							{
								"name": "",
								"type": "address",
								"internalType": "address"
							}
						],
						"stateMutability": "view"
					},
					{
						"name": "addLiquidity",
						"type": "function",
						"inputs": [
							{
								"name": "tokenA",
								"type": "address",
								"internalType": "address"
							},
							{
								"name": "tokenB",
								"type": "address",
								"internalType": "address"
							},
							{
								"name": "amountADesired",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "amountBDesired",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "amountAMin",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "amountBMin",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "to",
								"type": "address",
								"internalType": "address"
							},
							{
								"name": "deadline",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"outputs": [
							{
								"name": "amountA",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "amountB",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "liquidity",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"stateMutability": "nonpayable"
					},
					{
						"name": "addLiquidityETH",
						"type": "function",
						"inputs": [
							{
								"name": "token",
								"type": "address",
								"internalType": "address"
							},
							{
								"name": "amountTokenDesired",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "amountTokenMin",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "amountETHMin",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "to",
								"type": "address",
								"internalType": "address"
							},
							{
								"name": "deadline",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"outputs": [
							{
								"name": "amountToken",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "amountETH",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "liquidity",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"stateMutability": "payable"
					},
					{
						"name": "factory",
						"type": "function",
						"inputs": [],
						"outputs": [
							{
								"name": "",
								"type": "address",
								"internalType": "address"
							}
						],
						"stateMutability": "view"
					},
					{
						"name": "getAmountIn",
						"type": "function",
						"inputs": [
							{
								"name": "amountOut",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "reserveIn",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "reserveOut",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"outputs": [
							{
								"name": "amountIn",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"stateMutability": "pure"
					},
					{
						"name": "getAmountOut",
						"type": "function",
						"inputs": [
							{
								"name": "amountIn",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "reserveIn",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "reserveOut",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"outputs": [
							{
								"name": "amountOut",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"stateMutability": "pure"
					},
					{
						"name": "getAmountsIn",
						"type": "function",
						"inputs": [
							{
								"name": "amountOut",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "path",
								"type": "address[]",
								"internalType": "address[]"
							}
						],
						"outputs": [
							{
								"name": "amounts",
								"type": "uint256[]",
								"internalType": "uint256[]"
							}
						],
						"stateMutability": "view"
					},
					{
						"name": "getAmountsOut",
						"type": "function",
						"inputs": [
							{
								"name": "amountIn",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "path",
								"type": "address[]",
								"internalType": "address[]"
							}
						],
						"outputs": [
							{
								"name": "amounts",
								"type": "uint256[]",
								"internalType": "uint256[]"
							}
						],
						"stateMutability": "view"
					},
					{
						"name": "quote",
						"type": "function",
						"inputs": [
							{
								"name": "amountA",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "reserveA",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "reserveB",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"outputs": [
							{
								"name": "amountB",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"stateMutability": "pure"
					},
					{
						"name": "removeLiquidity",
						"type": "function",
						"inputs": [
							{
								"name": "tokenA",
								"type": "address",
								"internalType": "address"
							},
							{
								"name": "tokenB",
								"type": "address",
								"internalType": "address"
							},
							{
								"name": "liquidity",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "amountAMin",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "amountBMin",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "to",
								"type": "address",
								"internalType": "address"
							},
							{
								"name": "deadline",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"outputs": [
							{
								"name": "amountA",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "amountB",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"stateMutability": "nonpayable"
					},
					{
						"name": "removeLiquidityETH",
						"type": "function",
						"inputs": [
							{
								"name": "token",
								"type": "address",
								"internalType": "address"
							},
							{
								"name": "liquidity",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "amountTokenMin",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "amountETHMin",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "to",
								"type": "address",
								"internalType": "address"
							},
							{
								"name": "deadline",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"outputs": [
							{
								"name": "amountToken",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "amountETH",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"stateMutability": "nonpayable"
					},
					{
						"name": "removeLiquidityETHSupportingFeeOnTransferTokens",
						"type": "function",
						"inputs": [
							{
								"name": "token",
								"type": "address",
								"internalType": "address"
							},
							{
								"name": "liquidity",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "amountTokenMin",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "amountETHMin",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "to",
								"type": "address",
								"internalType": "address"
							},
							{
								"name": "deadline",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"outputs": [
							{
								"name": "amountETH",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"stateMutability": "nonpayable"
					},
					{
						"name": "swapETHForExactTokens",
						"type": "function",
						"inputs": [
							{
								"name": "amountOut",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "path",
								"type": "address[]",
								"internalType": "address[]"
							},
							{
								"name": "to",
								"type": "address",
								"internalType": "address"
							},
							{
								"name": "deadline",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"outputs": [
							{
								"name": "amounts",
								"type": "uint256[]",
								"internalType": "uint256[]"
							}
						],
						"stateMutability": "payable"
					},
					{
						"name": "swapExactETHForTokens",
						"type": "function",
						"inputs": [
							{
								"name": "amountOutMin",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "path",
								"type": "address[]",
								"internalType": "address[]"
							},
							{
								"name": "to",
								"type": "address",
								"internalType": "address"
							},
							{
								"name": "deadline",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"outputs": [
							{
								"name": "amounts",
								"type": "uint256[]",
								"internalType": "uint256[]"
							}
						],
						"stateMutability": "payable"
					},
					{
						"name": "swapExactETHForTokensSupportingFeeOnTransferTokens",
						"type": "function",
						"inputs": [
							{
								"name": "amountOutMin",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "path",
								"type": "address[]",
								"internalType": "address[]"
							},
							{
								"name": "to",
								"type": "address",
								"internalType": "address"
							},
							{
								"name": "deadline",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"outputs": [],
						"stateMutability": "payable"
					},
					{
						"name": "swapExactTokensForETH",
						"type": "function",
						"inputs": [
							{
								"name": "amountIn",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "amountOutMin",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "path",
								"type": "address[]",
								"internalType": "address[]"
							},
							{
								"name": "to",
								"type": "address",
								"internalType": "address"
							},
							{
								"name": "deadline",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"outputs": [
							{
								"name": "amounts",
								"type": "uint256[]",
								"internalType": "uint256[]"
							}
						],
						"stateMutability": "nonpayable"
					},
					{
						"name": "swapExactTokensForETHSupportingFeeOnTransferTokens",
						"type": "function",
						"inputs": [
							{
								"name": "amountIn",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "amountOutMin",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "path",
								"type": "address[]",
								"internalType": "address[]"
							},
							{
								"name": "to",
								"type": "address",
								"internalType": "address"
							},
							{
								"name": "deadline",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"outputs": [],
						"stateMutability": "nonpayable"
					},
					{
						"name": "swapExactTokensForTokens",
						"type": "function",
						"inputs": [
							{
								"name": "amountIn",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "amountOutMin",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "path",
								"type": "address[]",
								"internalType": "address[]"
							},
							{
								"name": "to",
								"type": "address",
								"internalType": "address"
							},
							{
								"name": "deadline",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"outputs": [
							{
								"name": "amounts",
								"type": "uint256[]",
								"internalType": "uint256[]"
							}
						],
						"stateMutability": "nonpayable"
					},
					{
						"name": "swapExactTokensForTokensSupportingFeeOnTransferTokens",
						"type": "function",
						"inputs": [
							{
								"name": "amountIn",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "amountOutMin",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "path",
								"type": "address[]",
								"internalType": "address[]"
							},
							{
								"name": "to",
								"type": "address",
								"internalType": "address"
							},
							{
								"name": "deadline",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"outputs": [],
						"stateMutability": "nonpayable"
					},
					{
						"name": "swapTokensForExactETH",
						"type": "function",
						"inputs": [
							{
								"name": "amountOut",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "amountInMax",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "path",
								"type": "address[]",
								"internalType": "address[]"
							},
							{
								"name": "to",
								"type": "address",
								"internalType": "address"
							},
							{
								"name": "deadline",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"outputs": [
							{
								"name": "amounts",
								"type": "uint256[]",
								"internalType": "uint256[]"
							}
						],
						"stateMutability": "nonpayable"
					},
					{
						"name": "swapTokensForExactTokens",
						"type": "function",
						"inputs": [
							{
								"name": "amountOut",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "amountInMax",
								"type": "uint256",
								"internalType": "uint256"
							},
							{
								"name": "path",
								"type": "address[]",
								"internalType": "address[]"
							},
							{
								"name": "to",
								"type": "address",
								"internalType": "address"
							},
							{
								"name": "deadline",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"outputs": [
							{
								"name": "amounts",
								"type": "uint256[]",
								"internalType": "uint256[]"
							}
						],
						"stateMutability": "nonpayable"
					},
					{
						"type": "receive",
						"stateMutability": "payable"
					}
				],
				"bytecode": "",
				"isOpen": true,
				"viewSize": "md"
			},
			{
				"id": "f3d47bce-f3fc-4fad-92cb-3a608b319844",
				"name": "ERC20",
				"abi": [
					{
						"type": "constructor",
						"inputs": [
							{
								"name": "treasury",
								"type": "address",
								"internalType": "address"
							}
						],
						"stateMutability": "nonpayable"
					},
					{
						"name": "Approval",
						"type": "event",
						"inputs": [
							{
								"name": "owner",
								"type": "address",
								"indexed": true,
								"internalType": "address"
							},
							{
								"name": "spender",
								"type": "address",
								"indexed": true,
								"internalType": "address"
							},
							{
								"name": "value",
								"type": "uint256",
								"indexed": false,
								"internalType": "uint256"
							}
						],
						"anonymous": false
					},
					{
						"name": "Transfer",
						"type": "event",
						"inputs": [
							{
								"name": "from",
								"type": "address",
								"indexed": true,
								"internalType": "address"
							},
							{
								"name": "to",
								"type": "address",
								"indexed": true,
								"internalType": "address"
							},
							{
								"name": "value",
								"type": "uint256",
								"indexed": false,
								"internalType": "uint256"
							}
						],
						"anonymous": false
					},
					{
						"name": "allowance",
						"type": "function",
						"inputs": [
							{
								"name": "owner",
								"type": "address",
								"internalType": "address"
							},
							{
								"name": "spender",
								"type": "address",
								"internalType": "address"
							}
						],
						"outputs": [
							{
								"name": "",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"stateMutability": "view"
					},
					{
						"name": "approve",
						"type": "function",
						"inputs": [
							{
								"name": "spender",
								"type": "address",
								"internalType": "address"
							},
							{
								"name": "amount",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"outputs": [
							{
								"name": "",
								"type": "bool",
								"internalType": "bool"
							}
						],
						"stateMutability": "nonpayable"
					},
					{
						"name": "balanceOf",
						"type": "function",
						"inputs": [
							{
								"name": "account",
								"type": "address",
								"internalType": "address"
							}
						],
						"outputs": [
							{
								"name": "",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"stateMutability": "view"
					},
					{
						"name": "decimals",
						"type": "function",
						"inputs": [],
						"outputs": [
							{
								"name": "",
								"type": "uint8",
								"internalType": "uint8"
							}
						],
						"stateMutability": "view"
					},
					{
						"name": "decreaseAllowance",
						"type": "function",
						"inputs": [
							{
								"name": "spender",
								"type": "address",
								"internalType": "address"
							},
							{
								"name": "subtractedValue",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"outputs": [
							{
								"name": "",
								"type": "bool",
								"internalType": "bool"
							}
						],
						"stateMutability": "nonpayable"
					},
					{
						"name": "increaseAllowance",
						"type": "function",
						"inputs": [
							{
								"name": "spender",
								"type": "address",
								"internalType": "address"
							},
							{
								"name": "addedValue",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"outputs": [
							{
								"name": "",
								"type": "bool",
								"internalType": "bool"
							}
						],
						"stateMutability": "nonpayable"
					},
					{
						"name": "name",
						"type": "function",
						"inputs": [],
						"outputs": [
							{
								"name": "",
								"type": "string",
								"internalType": "string"
							}
						],
						"stateMutability": "view"
					},
					{
						"name": "symbol",
						"type": "function",
						"inputs": [],
						"outputs": [
							{
								"name": "",
								"type": "string",
								"internalType": "string"
							}
						],
						"stateMutability": "view"
					},
					{
						"name": "totalSupply",
						"type": "function",
						"inputs": [],
						"outputs": [
							{
								"name": "",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"stateMutability": "view"
					},
					{
						"name": "transfer",
						"type": "function",
						"inputs": [
							{
								"name": "to",
								"type": "address",
								"internalType": "address"
							},
							{
								"name": "amount",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"outputs": [
							{
								"name": "",
								"type": "bool",
								"internalType": "bool"
							}
						],
						"stateMutability": "nonpayable"
					},
					{
						"name": "transferFrom",
						"type": "function",
						"inputs": [
							{
								"name": "from",
								"type": "address",
								"internalType": "address"
							},
							{
								"name": "to",
								"type": "address",
								"internalType": "address"
							},
							{
								"name": "amount",
								"type": "uint256",
								"internalType": "uint256"
							}
						],
						"outputs": [
							{
								"name": "",
								"type": "bool",
								"internalType": "bool"
							}
						],
						"stateMutability": "nonpayable"
					}
				],
				"bytecode": "",
				"isOpen": true,
				"viewSize": "sm"
			}
		]
	},
	"routesTemplateManager": {
		"routes": []
	},
	"docsTemplateManager": {
		"docs": [
			{
				"id": "12509e87-a9ed-4e4a-82cd-45a24fb9f959",
				"name": "README.md",
				"content": {
					"text": "## UniSwap dApp\nThis is an example of Spoon's dApp project, which includes the contract for the Uniswap Router. The user interface is generated using Spoon's online code functionality. Developers can write Dapps using React, and the basic usage example is included\n\n## Authors\n- [@dapp-works](https://github.com/dapp-works/examples)\n",
					"html": "<h2>UniSwap dApp</h2>\n<p>This is an example of Spoon's dApp project, which includes the contract for the Uniswap Router. The user interface is generated using Spoon's online code functionality. Developers can write Dapps using React, and the basic usage example is included</p>\n<h2>Authors</h2>\n<ul>\n<li><a href=\"https://github.com/dapp-works/examples\">@dapp-works</a></li>\n</ul>\n"
				},
				"isOpen": true,
				"viewSize": "sm"
			}
		]
	},
	"scriptsTemplateManager": {
		"scripts": [
			{
				"id": "71b26187-fc69-4e96-a561-70233b5dc8ee",
				"name": "UniSwapETH.tsx",
				"code": "\nimport { observer, useLocalObservable } from 'mobx-react-lite'\nimport {\n    Box, Button, Input, Flex, Image, Text, Center, Link, Modal,\n    ModalOverlay,\n    ModalContent,\n    ModalHeader,\n    ModalFooter,\n    ModalBody,\n    ModalCloseButton,\n    HStack,\n    Stack,\n    useDisclosure\n} from '@chakra-ui/react'\n\nimport { ChevronDownIcon, ArrowDownIcon, QuestionOutlineIcon } from '@chakra-ui/icons'\nimport { useEffect } from 'react'\nimport { BigNumberInputState, BigNumberState, BigNumber } from 'standard'\nimport sdk from 'spoon'\nconst chainId = 1\nconst uniswapAddress = '0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D'\nconst WTokenAddress = '0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2'\n\nexport default function Demo({ children }) {\n    const { isOpen, onOpen, onClose } = useDisclosure()\n    const store = useLocalObservable(() => ({\n        swapLoading: false,\n        searchAddrModel: \"from\", // from to \n        searchAddress: '',\n        slippage: 0.1,\n        curSerachToken: {\n            isEther: false,\n            address: \"\",\n            decimals: 18,\n            name: '',\n            logoURL: ''\n        },\n        basicTokens: [],\n        fromToken: {\n            isEther: false,\n            address: \"0x6B175474E89094C44Da98b954EedeAC495271d0F\",\n            balance: new BigNumberState({ decimals: 18 }),\n            allowance: '0',\n            decimals: 18,\n            name: \"DAI\",\n            logoURL: \"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x6B175474E89094C44Da98b954EedeAC495271d0F/logo.png\"\n        },\n        toToken: {\n            //WETH ADDRESS\n            isEther: true,\n            address: WTokenAddress,\n            balance: new BigNumberState({ decimals: 18 }),\n            decimals: 18,\n            name: \"ETH\",\n            logoURL: \"https://s2.coinmarketcap.com/static/img/coins/64x64/1027.png\"\n        },\n        switchChain() {\n            sdk.helper.setChain(sdk.god, chainId)\n        },\n        fromAmount: new BigNumberInputState({}),\n        toAmount: new BigNumberInputState({ decimals: 18 }),\n        connectWallet() {\n            sdk.god.setShowConnecter(true)\n        },\n        get SwapState() {\n            // disabled={store.fromAmount.isZero || sdk.god.currentChain.Coin?.balance.format == '0'}\n            if (sdk.god.currentChain.chainId != chainId) {\n                return {\n                    valid: true,\n                    msg: 'Switch Chain (ETH)',\n                    onClick: async () => {\n                        sdk.helper.setChain(sdk.god, chainId)\n                    }\n                }\n            }\n\n            if (this.fromToken.allowance == '0') {\n                return {\n                    valid: true,\n                    msg: `Approve ${this.fromToken.name}`,\n                    onClick: async () => {\n                        this.swapLoading = true\n                        await sdk.smartgraph.mutation({\n                            contractName: 'ERC20',\n                            method: 'approve',\n                            params: [sdk.god.currentNetwork.account, ethers.constants.MaxUint256.toString()],\n                            address: this.fromToken.address,\n                            value: null,\n                            chainId\n                        }).then((res) => {\n                            this.swapLoading = false\n                            this.fromToken.allowance = ethers.constants.MaxUint256.toString()\n                        }).catch(err => { this.swapLoading = false });\n                    }\n                }\n            }\n\n            return {\n                valid: true,\n                msg: 'Swap',\n                onClick: () => {\n                    this.swapLoading = true\n                    try {\n                        sdk.smartgraph.mutation({\n                            contractName: 'UniSwapRouter',\n                            method: 'swapExactTokensForETH',\n                            params: [this.fromAmount.value.toFixed(0), this.toAmount.value.times(1 - this.slippage).toFixed(0), [this.fromToken.address, WTokenAddress,], sdk.god.currentNetwork.account, this.deadline],\n                            address: uniswapAddress,\n                            value: null,\n                            chainId\n                        }).then((res) => {\n                            console.log(res);\n                            this.swapLoading = false\n                            sdk.helper.toast({ status: 'success', description: 'Swap Success' })\n                            this.init()\n                            this.fromAmount.setFormat('')\n                            this.toAmount.setFormat('')\n                        });\n                    } catch {\n                        this.swapLoading = false\n                    }\n                }\n            }\n        },\n        get isSupportChain() {\n            return sdk.god.currentChain.chainId == chainId\n        },\n        get deadline() {\n            return String(Math.floor(new Date().getTime() / 1000) + Number(20) * 60);\n        },\n        onChangeFromAmount(value) {\n            this.fromAmount.setFormat(value)\n            if (value == '') {\n                return this.toAmount.setFormat('')\n            }\n            _.throttle(() => {\n                this.updatePrice();\n            }, 500)();\n        },\n        onChangeToAmount(value) {\n            console.log(value, this.toToken.decimals)\n            this.toAmount.setDecimals(this.toToken.decimals);\n            this.toAmount.setFormat(value)\n        },\n        //calc swap amount\n        async updatePrice() {\n            store.swapLoading = true\n            console.log(`path:[\"${this.fromToken.address}\",\"${WTokenAddress}\"]`)\n            sdk.smartgraph.query(`query {\n          UniSwapRouter (calls: {chainId: ${chainId}, address: \"${uniswapAddress}\"}) {\n              getAmountsOut (amountIn: \"${this.fromAmount.value.toFixed(0)}\", path:[\"${this.fromToken.address}\",\"${WTokenAddress}\"])\n          }\n      }`).then((res) => {\n                store.swapLoading = false\n                console.log(res.data.UniSwapRouter[0]);\n                try {\n                    this.toAmount.setDecimals(this.toToken.decimals);\n                    this.toAmount.setValue(new BigNumber(res.data.UniSwapRouter[0].getAmountsOut.split(',')[1]));\n                } catch { }\n            }).catch(err => {\n                store.swapLoading = false\n            });\n        },\n\n        init() {\n            try {\n                sdk.smartgraph.query(`query {\n                ERC20 (calls: {chainId: ${chainId}, address: \"${store.fromToken.address}\"}) {\n                        balanceOf (account: \"${sdk.god.currentNetwork.account}\")\n                        allowance(owner:\"${sdk.god.currentNetwork.account}\",spender:\"${uniswapAddress}\")\n                    }\n                }`).then((res) => {\n                    console.log(res)\n                    store.fromToken.balance.setValue(new BigNumber(res.data.ERC20[0].balanceOf))\n                    store.fromToken.allowance = res.data.ERC20[0].allowance\n                    sdk.god.currentNetwork.loadBalance();\n                });\n\n                sdk.smartgraph.query(`query {\n                ERC20 (calls: [{chainId: ${chainId}, address: \"0x6B175474E89094C44Da98b954EedeAC495271d0F\"},{chainId: ${chainId}, address: \"0xdac17f958d2ee523a2206206994597c13d831ec7\"},{chainId: ${chainId}, address: \"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48\"}]) {\n                        address\n                        name\n                        symbol\n                        decimals\n                        balanceOf (account: \"${sdk.god.currentNetwork.account}\")\n                        allowance(owner:\"${sdk.god.currentNetwork.account}\",spender:\"${uniswapAddress}\")\n                    }\n                }`).then((res) => {\n                    console.log('res', res)\n                    store.basicTokens = [];\n                    res.data.ERC20.forEach(i => {\n                        store.basicTokens.push({\n                            address: i.address,\n                            name: i.symbol,\n                            decimals: Number(i.decimals),\n                            balance: new BigNumberState({\n                                value: new BigNumber(i.balanceOf),\n                                decimals: Number(i.decimals),\n                            }),\n                            allowance: i.allowance,\n                            logoURL: `//logo.chainbit.xyz/${i.symbol.toLowerCase()}`\n                        })\n                    })\n                    console.log('res', store.basicTokens)\n                });\n            } catch (err) {\n            }\n        },\n        onSearchAddress() {\n            sdk.smartgraph.query(`query {\n          ERC20 (calls: {chainId: ${chainId}, address: \"${store.searchAddress}\"}) {\n                  balanceOf (account: \"${sdk.god.currentNetwork.account}\")\n                  name\n                  symbol\n                  decimals\n                  allowance(owner:\"${sdk.god.currentNetwork.account}\",spender:\"0xae50E962A4191569Ab0a9eeF1042B6449B2056e3\")\n              }\n          }`).then((res) => {\n                console.log(res);\n                store.curSerachToken = {\n                    address: store.searchAddress,\n                    name: res.data.ERC20[0].symbol,\n                    decimals: Number(res.data.ERC20[0].decimals),\n                    balance: new BigNumberState({\n                        value: new BigNumber(res.data.ERC20[0].balanceOf),\n                        decimals: Number(res.data.ERC20[0].decimals),\n                    }),\n                    allowance: res.data.ERC20[0].allowance,\n                    logoURL: `//logo.chainbit.xyz/${res.data.ERC20[0].symbol.toLowerCase()}`\n                }\n                console.log(store.curSerachToken.name)\n            });\n        }\n    }))\n\n    useEffect(() => {\n        store.init()\n        sdk.smartgraph.event.on('provider.newBlock', (chainId) => {\n            store.init()\n        });\n    }, [])\n\n    useEffect(() => {\n        console.log(chainId)\n    }, [sdk.god.currentChain.chainId])\n\n    const SerachAddressModal = observer(() => {\n        return (\n            <>\n                <Modal isOpen={isOpen} onClose={onClose}>\n                    <ModalOverlay />\n                    <ModalContent>\n                        <ModalHeader>Import Token From Address</ModalHeader>\n                        <ModalCloseButton />\n                        <ModalBody>\n                            <Box>\n                                <Input placeholder='Address:0X' onChange={e => {\n                                    store.searchAddress = e.target.value\n                                    store.onSearchAddress()\n                                }} />\n                                {\n                                    store.curSerachToken.name && <Flex onClick={() => {\n                                        if (store.searchAddrModel == 'from') {\n                                            store.fromToken = store.curSerachToken;\n                                            store.fromAmount.setDecimals(store.curSerachToken.decimals);\n                                            onClose();\n                                            store.updatePrice();\n                                        }\n                                    }} mt='2' p='2' background='gray.200' cursor='pointer' borderRadius='8px' _hover={{ background: 'gray.300' }}>\n                                        <Image ml=\"2\" w='5' h='5' src={store.curSerachToken?.logoURL} fallback={<QuestionOutlineIcon />} />\n                                        <Text ml='2'>{store.curSerachToken.name}</Text>\n                                        <Text ml=\"auto\">{store.curSerachToken.balance?.format}</Text>\n                                    </Flex>\n                                }\n                                {\n                                    store.basicTokens?.map(i => {\n                                        return <Flex onClick={() => {\n                                            if (store.searchAddrModel == 'from') {\n                                                store.fromToken = i;\n                                                store.fromAmount.setDecimals(i.decimals);\n                                                onClose();\n                                                store.updatePrice();\n                                            }\n                                        }} mt='2' p='2' background='gray.200' cursor='pointer' borderRadius='8px' _hover={{ background: 'gray.300' }}>\n                                            <Image ml=\"2\" w='5' h='5' src={i.logoURL} fallback={<QuestionOutlineIcon />} />\n                                            <Text ml='2'>{i.name}</Text>\n                                            <Text ml=\"auto\">{i.balance?.format}</Text>\n                                        </Flex>\n                                    })\n                                }\n                            </Box>\n                        </ModalBody>\n\n                        <ModalFooter>\n                            <Button mr={3} onClick={onClose}>\n                                Close\n                            </Button>\n                        </ModalFooter>\n                    </ModalContent>\n                </Modal>\n            </>\n        )\n    })\n\n    const App = observer(() => {\n        if (!currentNetwork.account) {\n            return <Button onClick={store.connectWallet}>Connect Wallet</Button>\n        }\n\n        return <Box bg=\"white\" w=\"500px\" p=\"2rem\" rounded=\"xl\" boxShadow='0px 3px 20px #d6d6d680'>\n            <Link href=\"https://app.uniswap.org/\" isExternal fontSize=\"xs\" color=\"purple\">Detail: https://app.uniswap.org/</Link>\n            <Flex mt={4} direction=\"column\">\n                <Flex>\n                    <HStack onClick={() => {\n                        onOpen();\n                        store.searchAddrModel = 'from'\n                    }} _hover={{ background: 'gray.200', cursor: \"pointer\", borderRadius: '10px' }} px='2'>\n                        <Text ml=\"2\" fontSize=\"xs\">FROM:</Text>\n                        <Image ml=\"2\" w='5' h='5' src={store.fromToken.logoURL} fallback={<QuestionOutlineIcon />} />\n                        <Text ml=\"1\" fontSize=\"xs\">{store.fromToken.name}</Text>\n                        <ChevronDownIcon />\n                    </HStack>\n\n                    <Text fontSize=\"xs\" ml=\"auto\">{store.fromToken.balance?.format}</Text>\n                </Flex>\n                <Input value={store.fromAmount.format} mt={2} bg=\"white\" placeholder='0.0' onChange={(event) => {\n                    store.onChangeFromAmount(event.currentTarget.value);\n                }} />\n            </Flex>\n\n            <Center mt={5}>\n                <Box rounded=\"full\" bg=\"#f3f0ff\" p={1}>\n                    <ArrowDownIcon />\n                </Box>\n            </Center>\n\n            <Flex direction=\"column\" mt={3}>\n                <Flex>\n                    <HStack px='2'>\n                        <Text ml=\"2\" fontSize=\"xs\">TO:</Text>\n                        <Image ml=\"2\" w='5' h='5' src={store.toToken.logoURL} fallback={<QuestionOutlineIcon />} />\n                        <Text ml=\"1\" fontSize=\"xs\">{store.toToken.name}</Text>\n\n                    </HStack>\n                    <Text fontSize=\"xs\" ml=\"auto\">{store.isSupportChain ? sdk.god.currentChain.Coin?.balance.format : '...'}</Text>\n                </Flex>\n                <Input value={store.toAmount.format} mt={2} bg=\"white\" placeholder='0.0' onChange={(event) => {\n                    store.onChangeToAmount(event.currentTarget.value);\n                }} />\n            </Flex>\n\n            <Center mt={5}>\n\n                <Button disabled={!store.SwapState.valid} isLoading={store.swapLoading} w='full' colorScheme='purple' onClick={() => store.SwapState.onClick()}>{store.SwapState.msg}</Button>\n            </Center>\n\n            <SerachAddressModal />\n        </Box>\n    })\n    return <Center> <App /> </Center>\n}\n\n\n",
				"isOpen": true,
				"isRouter": true,
				"viewSize": "sm"
			}
		]
	},
	"chainData": {
		"1": {
			"contractInstanceManager": {
				"contracts": [
					{
						"id": "7a33ed4e-01a2-4568-a76c-64a580d579ca",
						"templateId": "abdb9c8a-a865-4990-b603-0ffa1f921dcd",
						"address": "0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D",
						"name": "UniSwapRouter",
						"functionsCache": {
							"WETH": {
								"callResult": "0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"
							},
							"factory": {
								"callResult": "0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f"
							},
							"getAmountsOut": {
								"callResult": "100000000000,159793023432691"
							}
						},
						"tabIndex": 0,
						"execHistory": [],
						"show": true
					}
				]
			}
		},
		"4": {
			"contractInstanceManager": {
				"contracts": []
			}
		},
		"4689": {
			"contractInstanceManager": {
				"contracts": []
			}
		},
		"4690": {
			"contractInstanceManager": {
				"contracts": []
			}
		},
		"513100": {
			"contractInstanceManager": {
				"contracts": []
			}
		}
	},
	"createdAt": 1663228752132,
	"url": "https://raw.githubusercontent.com/dapp-works/examples/main/spoon-uniswap-example.json",
	"homepageUrl": "",
	"logoUrl": "",
	"description": {
		
	}
}